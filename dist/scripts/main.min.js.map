{"version":3,"sources":["main.min.js","/source/search.module.js","/source/main.js","/source/constants.js","/source/search.service.js","/source/filterform.component.js","/source/searchresults.component.js","/source/search.controller.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","angular","module","constant","API","GET_FLIGHTS","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","SearchService","$http","$q","AppConstant","this","value","results","prices","map","x","total","min","Math","apply","max","price","parseInt","filter","item","onewayFilters","filterResults","oneway","returnFilters","result","reduce","acc","curr","push","return","forEach","obj","passengerCnt","availableSeats","origin","destination","Date","departure","split","toDateString","depDate","_this","defer","promise","get","then","response","resolve","getCombinedFilterResults","data","$inject","service","FilterFormController","passengerList","uiState","onewayVisible","modifier","assign","view","setUIState","e","form","preventDefault","$valid","onSearch","filterObj","component","templateUrl","controller","replace","bindings","priceFilter","onPriceFilter","SearchResultsController","$onInit","resuts","SearchController","searchTriggered","getResult","searchResult","originalResult","getPriceRanges","filterVal","newResult","filterResultsBasedOnPrice"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict'; /* eslint-env browser */\n(function () {\n  'use strict';\n\n  angular.module('myflight.search', []);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5tb2R1bGUuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6ImNBQUE7QUFDQSxDQUFDLFlBQVc7QUFDVjs7QUFFQUEsVUFBUUMsTUFBUixDQUFlLGlCQUFmLEVBQWtDLEVBQWxDO0FBQ0QsQ0FKRCIsImZpbGUiOiJzZWFyY2gubW9kdWxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBicm93c2VyICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlmbGlnaHQuc2VhcmNoJywgW10pO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n\n'use strict'; /* eslint-env browser */\n/* global angular */\n(function () {\n  'use strict';\n  angular.module('myflight', ['myflight.search']);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6ImNBQUE7QUFDQTtBQUNBLENBQUMsWUFBVztBQUNWO0FBQ0FBLFVBQVFDLE1BQVIsQ0FBZSxVQUFmLEVBQTJCLENBQUMsaUJBQUQsQ0FBM0I7QUFDRCxDQUhEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbi8qIGdsb2JhbCBhbmd1bGFyICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhci5tb2R1bGUoJ215ZmxpZ2h0JywgWydteWZsaWdodC5zZWFyY2gnXSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n\n'use strict'; /* eslint-env browser */\n/* global angular */\n(function () {\n  'use strict';\n  angular.module('myflight').\n  constant('AppConstant', {\n    API: {\n      GET_FLIGHTS: 'https://api.myjson.com/bins/3aezg' } });\n\n\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJBUEkiLCJHRVRfRkxJR0hUUyJdLCJtYXBwaW5ncyI6ImNBQUE7QUFDQTtBQUNBLENBQUMsWUFBVztBQUNWO0FBQ0FBLFVBQVFDLE1BQVIsQ0FBZSxVQUFmO0FBQ0VDLFVBREYsQ0FDVyxhQURYLEVBQ3lCO0FBQ3ZCQyxTQUFLO0FBQ0pDLG1CQUFhLG1DQURULEVBRGtCLEVBRHpCOzs7QUFNRCxDQVJEIiwiZmlsZSI6ImNvbnN0YW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuLyogZ2xvYmFsIGFuZ3VsYXIgKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnbXlmbGlnaHQnKVxuICBcdC5jb25zdGFudCgnQXBwQ29uc3RhbnQnLHtcbiAgXHRcdEFQSToge1xuICBcdFx0XHRHRVRfRkxJR0hUUzogJ2h0dHBzOi8vYXBpLm15anNvbi5jb20vYmlucy8zYWV6ZydcbiAgXHRcdH1cbiAgXHR9KVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n\n'use strict';var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();function _toConsumableArray(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;} else {return Array.from(arr);}}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}} /* eslint-env browser */\n(function () {\n  'use strict';var\n\n  SearchService = function () {\n\n    function SearchService($http, $q, AppConstant) {_classCallCheck(this, SearchService);\n      this.$http = $http;\n      this.$q = $q;\n      this.AppConstant = AppConstant;\n    }_createClass(SearchService, [{ key: 'getPriceRanges', value: function getPriceRanges(\n      results) {\n        var prices = results.map(function (x) {return x.total;});\n        return {\n          min: Math.min.apply(Math, _toConsumableArray(prices)),\n          max: Math.max.apply(Math, _toConsumableArray(prices)) };\n\n      } }, { key: 'filterResultsBasedOnPrice', value: function filterResultsBasedOnPrice(\n      results, price) {\n        price = parseInt(price, 10);\n        return results.filter(function (item) {return item.total <= price;});\n      } }, { key: 'getCombinedFilterResults', value: function getCombinedFilterResults(\n      results, filter) {\n        var onewayFilters = this.filterResults(results, filter.oneway);\n        var returnFilters = this.filterResults(results, filter.return);\n        var result = onewayFilters.reduce(function (acc, curr) {\n          if (returnFilters.length === 0) {\n            acc.push({\n              oneway: curr,\n              return: false,\n              total: curr.price });\n\n          }\n          returnFilters.forEach(function (item) {\n            var obj = {\n              oneway: curr,\n              return: item,\n              total: curr.price + item.price };\n\n            acc.push(obj);\n          });\n          return acc;\n        }, []);\n        return result;\n      } }, { key: 'filterResults', value: function filterResults(\n      results, filter) {\n        return results.filter(function (item) {\n          filter.passengerCnt = filter.passengerCnt || 1;\n          return item.availableSeats > filter.passengerCnt &&\n          item.origin === filter.origin &&\n          item.destination === filter.destination &&\n          new Date(item.departure.split('T')[0]).toDateString() ===\n          filter.depDate.toDateString();\n        });\n      } }, { key: 'getResult', value: function getResult(\n\n      filter) {var _this = this;\n        var defer = this.$q.defer();\n        var promise = this.$http.get(this.AppConstant.API.GET_FLIGHTS);\n        promise.then(function (response) {\n          defer.resolve(_this.getCombinedFilterResults(response.data, filter));\n        });\n        return defer.promise;\n      } }]);return SearchService;}();\n\n\n\n  SearchService.$inject = ['$http', '$q', 'AppConstant'];\n  angular.module('myflight.search').\n  service('SearchService', SearchService);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIlNlYXJjaFNlcnZpY2UiLCIkaHR0cCIsIiRxIiwiQXBwQ29uc3RhbnQiLCJyZXN1bHRzIiwicHJpY2VzIiwibWFwIiwieCIsInRvdGFsIiwibWluIiwiTWF0aCIsIm1heCIsInByaWNlIiwicGFyc2VJbnQiLCJmaWx0ZXIiLCJpdGVtIiwib25ld2F5RmlsdGVycyIsImZpbHRlclJlc3VsdHMiLCJvbmV3YXkiLCJyZXR1cm5GaWx0ZXJzIiwicmV0dXJuIiwicmVzdWx0IiwicmVkdWNlIiwiYWNjIiwiY3VyciIsImxlbmd0aCIsInB1c2giLCJmb3JFYWNoIiwib2JqIiwicGFzc2VuZ2VyQ250IiwiYXZhaWxhYmxlU2VhdHMiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsIkRhdGUiLCJkZXBhcnR1cmUiLCJzcGxpdCIsInRvRGF0ZVN0cmluZyIsImRlcERhdGUiLCJkZWZlciIsInByb21pc2UiLCJnZXQiLCJBUEkiLCJHRVRfRkxJR0hUUyIsInRoZW4iLCJyZXNvbHZlIiwiZ2V0Q29tYmluZWRGaWx0ZXJSZXN1bHRzIiwicmVzcG9uc2UiLCJkYXRhIiwiJGluamVjdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiazRCQUFBO0FBQ0EsQ0FBQyxZQUFXO0FBQ1YsZUFEVTs7QUFHSkEsZUFISTs7QUFLUiwyQkFBWUMsS0FBWixFQUFtQkMsRUFBbkIsRUFBdUJDLFdBQXZCLEVBQW9DO0FBQ2xDLFdBQUtGLEtBQUwsR0FBYUEsS0FBYjtBQUNBLFdBQUtDLEVBQUwsR0FBVUEsRUFBVjtBQUNBLFdBQUtDLFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0QsS0FUTztBQVVPQyxhQVZQLEVBVWU7QUFDckIsWUFBSUMsU0FBU0QsUUFBUUUsR0FBUixDQUFZLHFCQUFHQyxFQUFFQyxLQUFMLEVBQVosQ0FBYjtBQUNBLGVBQU87QUFDTEMsZUFBS0MsS0FBS0QsR0FBTCxnQ0FBWUosTUFBWixFQURBO0FBRUxNLGVBQUtELEtBQUtDLEdBQUwsZ0NBQVlOLE1BQVosRUFGQSxFQUFQOztBQUlELE9BaEJPO0FBaUJrQkQsYUFqQmxCLEVBaUIyQlEsS0FqQjNCLEVBaUJpQztBQUN2Q0EsZ0JBQVFDLFNBQVNELEtBQVQsRUFBZSxFQUFmLENBQVI7QUFDQSxlQUFPUixRQUFRVSxNQUFSLENBQWUsd0JBQU9DLEtBQUtQLEtBQUwsSUFBWUksS0FBbkIsRUFBZixDQUFQO0FBQ0QsT0FwQk87QUFxQmlCUixhQXJCakIsRUFxQjBCVSxNQXJCMUIsRUFxQmlDO0FBQ3JDLFlBQUlFLGdCQUFnQixLQUFLQyxhQUFMLENBQW1CYixPQUFuQixFQUE0QlUsT0FBT0ksTUFBbkMsQ0FBcEI7QUFDQSxZQUFJQyxnQkFBZ0IsS0FBS0YsYUFBTCxDQUFtQmIsT0FBbkIsRUFBNEJVLE9BQU9NLE1BQW5DLENBQXBCO0FBQ0EsWUFBSUMsU0FBU0wsY0FBY00sTUFBZCxDQUFxQixVQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBZTtBQUMvQyxjQUFHTCxjQUFjTSxNQUFkLEtBQXVCLENBQTFCLEVBQTRCO0FBQzFCRixnQkFBSUcsSUFBSixDQUFTO0FBQ1BSLHNCQUFRTSxJQUREO0FBRVBKLHNCQUFRLEtBRkQ7QUFHUFoscUJBQU9nQixLQUFLWixLQUhMLEVBQVQ7O0FBS0Q7QUFDRE8sd0JBQWNRLE9BQWQsQ0FBc0IsZ0JBQVM7QUFDN0IsZ0JBQUlDLE1BQU07QUFDUlYsc0JBQVFNLElBREE7QUFFUkosc0JBQVFMLElBRkE7QUFHUlAscUJBQU9nQixLQUFLWixLQUFMLEdBQWFHLEtBQUtILEtBSGpCLEVBQVY7O0FBS0FXLGdCQUFJRyxJQUFKLENBQVNFLEdBQVQ7QUFDRCxXQVBEO0FBUUEsaUJBQU9MLEdBQVA7QUFDRCxTQWpCWSxFQWlCWCxFQWpCVyxDQUFiO0FBa0JBLGVBQU9GLE1BQVA7QUFDSCxPQTNDTztBQTRDTWpCLGFBNUNOLEVBNENlVSxNQTVDZixFQTRDdUI7QUFDN0IsZUFBT1YsUUFBUVUsTUFBUixDQUFlLGdCQUFRO0FBQzVCQSxpQkFBT2UsWUFBUCxHQUFzQmYsT0FBT2UsWUFBUCxJQUF1QixDQUE3QztBQUNBLGlCQUFPZCxLQUFLZSxjQUFMLEdBQXNCaEIsT0FBT2UsWUFBN0I7QUFDQ2QsZUFBS2dCLE1BQUwsS0FBZ0JqQixPQUFPaUIsTUFEeEI7QUFFQ2hCLGVBQUtpQixXQUFMLEtBQXFCbEIsT0FBT2tCLFdBRjdCO0FBR0MsY0FBSUMsSUFBSixDQUFTbEIsS0FBS21CLFNBQUwsQ0FBZUMsS0FBZixDQUFxQixHQUFyQixFQUEwQixDQUExQixDQUFULEVBQXVDQyxZQUF2QztBQUNVdEIsaUJBQU91QixPQUFQLENBQWVELFlBQWYsRUFKbEI7QUFLRCxTQVBNLENBQVA7QUFRRCxPQXJETzs7QUF1REV0QixZQXZERixFQXVEVTtBQUNoQixZQUFJd0IsUUFBUSxLQUFLcEMsRUFBTCxDQUFRb0MsS0FBUixFQUFaO0FBQ0EsWUFBSUMsVUFBVSxLQUFLdEMsS0FBTCxDQUFXdUMsR0FBWCxDQUFlLEtBQUtyQyxXQUFMLENBQWlCc0MsR0FBakIsQ0FBcUJDLFdBQXBDLENBQWQ7QUFDQUgsZ0JBQVFJLElBQVIsQ0FBYSxvQkFBWTtBQUN2QkwsZ0JBQU1NLE9BQU4sQ0FBYyxNQUFLQyx3QkFBTCxDQUE4QkMsU0FBU0MsSUFBdkMsRUFBNkNqQyxNQUE3QyxDQUFkO0FBQ0QsU0FGRDtBQUdBLGVBQU93QixNQUFNQyxPQUFiO0FBQ0QsT0E5RE87Ozs7QUFrRVZ2QyxnQkFBY2dELE9BQWQsR0FBd0IsQ0FBQyxPQUFELEVBQVUsSUFBVixFQUFnQixhQUFoQixDQUF4QjtBQUNBQyxVQUFRQyxNQUFSLENBQWUsaUJBQWY7QUFDR0MsU0FESCxDQUNXLGVBRFgsRUFDNEJuRCxhQUQ1QjtBQUVELENBckVEIiwiZmlsZSI6InNlYXJjaC5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBicm93c2VyICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBjbGFzcyBTZWFyY2hTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCRodHRwLCAkcSwgQXBwQ29uc3RhbnQpIHtcbiAgICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAgICAgIHRoaXMuJHEgPSAkcTtcbiAgICAgIHRoaXMuQXBwQ29uc3RhbnQgPSBBcHBDb25zdGFudDtcbiAgICB9XG4gICAgZ2V0UHJpY2VSYW5nZXMocmVzdWx0cyl7XG4gICAgICB2YXIgcHJpY2VzID0gcmVzdWx0cy5tYXAoeD0+eC50b3RhbCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtaW46IE1hdGgubWluKC4uLnByaWNlcyksXG4gICAgICAgIG1heDogTWF0aC5tYXgoLi4ucHJpY2VzKVxuICAgICAgfTtcbiAgICB9XG4gICAgZmlsdGVyUmVzdWx0c0Jhc2VkT25QcmljZShyZXN1bHRzLCBwcmljZSl7XG4gICAgICBwcmljZSA9IHBhcnNlSW50KHByaWNlLDEwKTtcbiAgICAgIHJldHVybiByZXN1bHRzLmZpbHRlcihpdGVtPT4gaXRlbS50b3RhbDw9cHJpY2UpO1xuICAgIH1cbiAgICBnZXRDb21iaW5lZEZpbHRlclJlc3VsdHMocmVzdWx0cywgZmlsdGVyKXtcbiAgICAgICAgbGV0IG9uZXdheUZpbHRlcnMgPSB0aGlzLmZpbHRlclJlc3VsdHMocmVzdWx0cywgZmlsdGVyLm9uZXdheSk7XG4gICAgICAgIGxldCByZXR1cm5GaWx0ZXJzID0gdGhpcy5maWx0ZXJSZXN1bHRzKHJlc3VsdHMsIGZpbHRlci5yZXR1cm4pO1xuICAgICAgICBsZXQgcmVzdWx0ID0gb25ld2F5RmlsdGVycy5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgICAgICAgIGlmKHJldHVybkZpbHRlcnMubGVuZ3RoPT09MCl7XG4gICAgICAgICAgICBhY2MucHVzaCh7XG4gICAgICAgICAgICAgIG9uZXdheTogY3VycixcbiAgICAgICAgICAgICAgcmV0dXJuOiBmYWxzZSxcbiAgICAgICAgICAgICAgdG90YWw6IGN1cnIucHJpY2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm5GaWx0ZXJzLmZvckVhY2goaXRlbSA9PiAge1xuICAgICAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgICAgb25ld2F5OiBjdXJyLFxuICAgICAgICAgICAgICByZXR1cm46IGl0ZW0sXG4gICAgICAgICAgICAgIHRvdGFsOiBjdXJyLnByaWNlICsgaXRlbS5wcmljZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFjYy5wdXNoKG9iailcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LFtdKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZmlsdGVyUmVzdWx0cyhyZXN1bHRzLCBmaWx0ZXIpIHtcbiAgICAgIHJldHVybiByZXN1bHRzLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgZmlsdGVyLnBhc3NlbmdlckNudCA9IGZpbHRlci5wYXNzZW5nZXJDbnQgfHwgMTtcbiAgICAgICAgcmV0dXJuIGl0ZW0uYXZhaWxhYmxlU2VhdHMgPiBmaWx0ZXIucGFzc2VuZ2VyQ250ICYmXG4gICAgICAgICAgICAgICAgaXRlbS5vcmlnaW4gPT09IGZpbHRlci5vcmlnaW4gJiZcbiAgICAgICAgICAgICAgICBpdGVtLmRlc3RpbmF0aW9uID09PSBmaWx0ZXIuZGVzdGluYXRpb24gJiZcbiAgICAgICAgICAgICAgICBuZXcgRGF0ZShpdGVtLmRlcGFydHVyZS5zcGxpdCgnVCcpWzBdKS50b0RhdGVTdHJpbmcoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmRlcERhdGUudG9EYXRlU3RyaW5nKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRSZXN1bHQoZmlsdGVyKSB7XG4gICAgICBsZXQgZGVmZXIgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuJGh0dHAuZ2V0KHRoaXMuQXBwQ29uc3RhbnQuQVBJLkdFVF9GTElHSFRTKTtcbiAgICAgIHByb21pc2UudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGRlZmVyLnJlc29sdmUodGhpcy5nZXRDb21iaW5lZEZpbHRlclJlc3VsdHMocmVzcG9uc2UuZGF0YSwgZmlsdGVyKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xuICAgIH1cblxuICB9XG5cbiAgU2VhcmNoU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckcScsICdBcHBDb25zdGFudCddO1xuICBhbmd1bGFyLm1vZHVsZSgnbXlmbGlnaHQuc2VhcmNoJylcbiAgICAuc2VydmljZSgnU2VhcmNoU2VydmljZScsIFNlYXJjaFNlcnZpY2UpO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n\n'use strict';var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}} /* eslint-env browser */\n(function () {\n  'use strict';var\n\n  FilterFormController = function () {\n\n    function FilterFormController() {_classCallCheck(this, FilterFormController);\n      this.filter = {\n        oneway: {},\n        return: {} };\n\n      this.passengerList = [1, 2, 3, 4, 5];\n      this.uiState = {\n        onewayVisible: true };\n\n    }_createClass(FilterFormController, [{ key: 'setUIState', value: function setUIState(\n      modifier) {\n        this.uiState = Object.assign(this.uiState, modifier);\n      } }, { key: 'setActiveView', value: function setActiveView(\n      view) {\n        this.setUIState({\n          onewayVisible: view === 'one' ? true : false });\n\n      } }, { key: 'onFilterFormSubmit', value: function onFilterFormSubmit(\n      e, form) {\n        e.preventDefault();\n        if (form.$valid) {\n          this.onSearch({\n            filterObj: this.filter });\n\n        }\n      } }]);return FilterFormController;}();\n\n\n\n  angular.module('myflight.search').\n  component('filterForm', {\n    templateUrl: 'scripts/app/search/filter-form.tpl.html',\n    controller: FilterFormController,\n    replace: true,\n    bindings: {\n      onSearch: '&',\n      priceFilter: '<',\n      onPriceFilter: '&' } });\n\n\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlcmZvcm0uY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbIkZpbHRlckZvcm1Db250cm9sbGVyIiwiZmlsdGVyIiwib25ld2F5IiwicmV0dXJuIiwicGFzc2VuZ2VyTGlzdCIsInVpU3RhdGUiLCJvbmV3YXlWaXNpYmxlIiwibW9kaWZpZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJ2aWV3Iiwic2V0VUlTdGF0ZSIsImUiLCJmb3JtIiwicHJldmVudERlZmF1bHQiLCIkdmFsaWQiLCJvblNlYXJjaCIsImZpbHRlck9iaiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXBsYWNlIiwiYmluZGluZ3MiLCJwcmljZUZpbHRlciIsIm9uUHJpY2VGaWx0ZXIiXSwibWFwcGluZ3MiOiJ3c0JBQUE7QUFDQSxDQUFDLFlBQVc7QUFDVixlQURVOztBQUdKQSxzQkFISTs7QUFLUixvQ0FBYztBQUNaLFdBQUtDLE1BQUwsR0FBYztBQUNaQyxnQkFBUSxFQURJO0FBRVpDLGdCQUFRLEVBRkksRUFBZDs7QUFJQSxXQUFLQyxhQUFMLEdBQXFCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsQ0FBckI7QUFDQSxXQUFLQyxPQUFMLEdBQWU7QUFDYkMsdUJBQWUsSUFERixFQUFmOztBQUdELEtBZE87QUFlR0MsY0FmSCxFQWVZO0FBQ2xCLGFBQUtGLE9BQUwsR0FBZUcsT0FBT0MsTUFBUCxDQUFjLEtBQUtKLE9BQW5CLEVBQTRCRSxRQUE1QixDQUFmO0FBQ0QsT0FqQk87QUFrQk1HLFVBbEJOLEVBa0JXO0FBQ2pCLGFBQUtDLFVBQUwsQ0FBZ0I7QUFDZEwseUJBQWVJLFNBQU8sS0FBUCxHQUFjLElBQWQsR0FBb0IsS0FEckIsRUFBaEI7O0FBR0QsT0F0Qk87QUF1QldFLE9BdkJYLEVBdUJjQyxJQXZCZCxFQXVCb0I7QUFDMUJELFVBQUVFLGNBQUY7QUFDQSxZQUFJRCxLQUFLRSxNQUFULEVBQWlCO0FBQ2YsZUFBS0MsUUFBTCxDQUFjO0FBQ1pDLHVCQUFXLEtBQUtoQixNQURKLEVBQWQ7O0FBR0Q7QUFDRixPQTlCTzs7OztBQWtDVmlCLFVBQVFDLE1BQVIsQ0FBZSxpQkFBZjtBQUNHQyxXQURILENBQ2EsWUFEYixFQUMyQjtBQUN2QkMsaUJBQWEseUNBRFU7QUFFdkJDLGdCQUFZdEIsb0JBRlc7QUFHdkJ1QixhQUFTLElBSGM7QUFJdkJDLGNBQVU7QUFDUlIsZ0JBQVUsR0FERjtBQUVSUyxtQkFBYSxHQUZMO0FBR1JDLHFCQUFlLEdBSFAsRUFKYSxFQUQzQjs7O0FBV0QsQ0E3Q0QiLCJmaWxlIjoiZmlsdGVyZm9ybS5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGNsYXNzIEZpbHRlckZvcm1Db250cm9sbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5maWx0ZXIgPSB7XG4gICAgICAgIG9uZXdheToge30sXG4gICAgICAgIHJldHVybjoge31cbiAgICAgIH07XG4gICAgICB0aGlzLnBhc3Nlbmdlckxpc3QgPSBbMSwgMiwgMywgNCwgNV07XG4gICAgICB0aGlzLnVpU3RhdGUgPSB7XG4gICAgICAgIG9uZXdheVZpc2libGU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICAgIHNldFVJU3RhdGUobW9kaWZpZXIpe1xuICAgICAgdGhpcy51aVN0YXRlID0gT2JqZWN0LmFzc2lnbih0aGlzLnVpU3RhdGUsIG1vZGlmaWVyKTtcbiAgICB9XG4gICAgc2V0QWN0aXZlVmlldyh2aWV3KXtcbiAgICAgIHRoaXMuc2V0VUlTdGF0ZSh7XG4gICAgICAgIG9uZXdheVZpc2libGU6IHZpZXc9PT0nb25lJz8gdHJ1ZTogZmFsc2UgXG4gICAgICB9KTtcbiAgICB9XG4gICAgb25GaWx0ZXJGb3JtU3VibWl0KGUsIGZvcm0pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChmb3JtLiR2YWxpZCkge1xuICAgICAgICB0aGlzLm9uU2VhcmNoKHtcbiAgICAgICAgICBmaWx0ZXJPYmo6IHRoaXMuZmlsdGVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215ZmxpZ2h0LnNlYXJjaCcpXG4gICAgLmNvbXBvbmVudCgnZmlsdGVyRm9ybScsIHtcbiAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy9hcHAvc2VhcmNoL2ZpbHRlci1mb3JtLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6IEZpbHRlckZvcm1Db250cm9sbGVyLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIGJpbmRpbmdzOiB7XG4gICAgICAgIG9uU2VhcmNoOiAnJicsXG4gICAgICAgIHByaWNlRmlsdGVyOiAnPCcsXG4gICAgICAgIG9uUHJpY2VGaWx0ZXI6ICcmJyBcbiAgICAgIH1cbiAgICB9KTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=\n\n'use strict';function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}} /* eslint-env browser */\n(function () {\n  'use strict';var\n\n  SearchResultsController =\n\n  function SearchResultsController() {_classCallCheck(this, SearchResultsController);\n    this.$onInit = function () {\n    };\n  };\n\n\n\n  angular.module('myflight.search').\n  component('searchResults', {\n    templateUrl: 'scripts/app/search/search-results.tpl.html',\n    controller: SearchResultsController,\n    replace: true,\n    bindings: {\n      resuts: '=' } });\n\n\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaHJlc3VsdHMuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbIlNlYXJjaFJlc3VsdHNDb250cm9sbGVyIiwiJG9uSW5pdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXBsYWNlIiwiYmluZGluZ3MiLCJyZXN1dHMiXSwibWFwcGluZ3MiOiJtS0FBQTtBQUNBLENBQUMsWUFBVztBQUNWLGVBRFU7O0FBR0pBLHlCQUhJOztBQUtSLHFDQUFjO0FBQ1osU0FBS0MsT0FBTCxHQUFlLFlBQVc7QUFDekIsS0FERDtBQUVELEdBUk87Ozs7QUFZVkMsVUFBUUMsTUFBUixDQUFlLGlCQUFmO0FBQ0dDLFdBREgsQ0FDYSxlQURiLEVBQzhCO0FBQzFCQyxpQkFBYSw0Q0FEYTtBQUUxQkMsZ0JBQVlOLHVCQUZjO0FBRzFCTyxhQUFTLElBSGlCO0FBSTFCQyxjQUFVO0FBQ1JDLGNBQVEsR0FEQSxFQUpnQixFQUQ5Qjs7O0FBU0QsQ0FyQkQiLCJmaWxlIjoic2VhcmNocmVzdWx0cy5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGNsYXNzIFNlYXJjaFJlc3VsdHNDb250cm9sbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB9O1xuICAgIH1cblxuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215ZmxpZ2h0LnNlYXJjaCcpXG4gICAgLmNvbXBvbmVudCgnc2VhcmNoUmVzdWx0cycsIHtcbiAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy9hcHAvc2VhcmNoL3NlYXJjaC1yZXN1bHRzLnRwbC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXI6IFNlYXJjaFJlc3VsdHNDb250cm9sbGVyLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIGJpbmRpbmdzOiB7XG4gICAgICAgIHJlc3V0czogJz0nXG4gICAgICB9XG4gICAgfSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n\n'use strict';var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}} /* eslint-env browser */\n(function () {\n  'use strict';var\n\n  SearchController = function () {\n\n    function SearchController(SearchService) {_classCallCheck(this, SearchController);\n      this.SearchService = SearchService;\n    }_createClass(SearchController, [{ key: 'onSearch', value: function onSearch(\n\n      filterObj) {var _this = this;\n        this.searchTriggered = true;\n        this.priceFilter = null;\n        var promise = this.SearchService.getResult(filterObj);\n        promise.then(function (result) {\n          _this.searchResult = result;\n          _this.originalResult = result;\n          _this.searchTriggered = false;\n          _this.priceFilter = _this.SearchService.getPriceRanges(_this.searchResult);\n        });\n      } }, { key: 'onPriceFilter', value: function onPriceFilter(\n\n      filterVal) {\n        var newResult = this.SearchService.filterResultsBasedOnPrice(this.originalResult, filterVal);\n        this.searchResult = newResult;\n      } }]);return SearchController;}();\n\n\n\n  SearchController.$inject = ['SearchService'];\n  angular.module('myflight.search').\n  controller('SearchController', SearchController);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIlNlYXJjaENvbnRyb2xsZXIiLCJTZWFyY2hTZXJ2aWNlIiwiZmlsdGVyT2JqIiwic2VhcmNoVHJpZ2dlcmVkIiwicHJpY2VGaWx0ZXIiLCJwcm9taXNlIiwiZ2V0UmVzdWx0IiwidGhlbiIsInNlYXJjaFJlc3VsdCIsInJlc3VsdCIsIm9yaWdpbmFsUmVzdWx0IiwiZ2V0UHJpY2VSYW5nZXMiLCJmaWx0ZXJWYWwiLCJuZXdSZXN1bHQiLCJmaWx0ZXJSZXN1bHRzQmFzZWRPblByaWNlIiwiJGluamVjdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIl0sIm1hcHBpbmdzIjoid3NCQUFBO0FBQ0EsQ0FBQyxZQUFXO0FBQ1YsZUFEVTs7QUFHSkEsa0JBSEk7O0FBS1IsOEJBQVlDLGFBQVosRUFBMkI7QUFDekIsV0FBS0EsYUFBTCxHQUFxQkEsYUFBckI7QUFDRCxLQVBPOztBQVNDQyxlQVRELEVBU1k7QUFDbEIsYUFBS0MsZUFBTCxHQUF1QixJQUF2QjtBQUNBLGFBQUtDLFdBQUwsR0FBbUIsSUFBbkI7QUFDQSxZQUFJQyxVQUFVLEtBQUtKLGFBQUwsQ0FBbUJLLFNBQW5CLENBQTZCSixTQUE3QixDQUFkO0FBQ0FHLGdCQUFRRSxJQUFSLENBQWEsa0JBQVU7QUFDckIsZ0JBQUtDLFlBQUwsR0FBb0JDLE1BQXBCO0FBQ0EsZ0JBQUtDLGNBQUwsR0FBc0JELE1BQXRCO0FBQ0EsZ0JBQUtOLGVBQUwsR0FBdUIsS0FBdkI7QUFDQSxnQkFBS0MsV0FBTCxHQUFtQixNQUFLSCxhQUFMLENBQW1CVSxjQUFuQixDQUFrQyxNQUFLSCxZQUF2QyxDQUFuQjtBQUNELFNBTEQ7QUFNRCxPQW5CTzs7QUFxQk1JLGVBckJOLEVBcUJnQjtBQUN0QixZQUFJQyxZQUFZLEtBQUtaLGFBQUwsQ0FBbUJhLHlCQUFuQixDQUE2QyxLQUFLSixjQUFsRCxFQUFrRUUsU0FBbEUsQ0FBaEI7QUFDQSxhQUFLSixZQUFMLEdBQW9CSyxTQUFwQjtBQUNELE9BeEJPOzs7O0FBNEJWYixtQkFBaUJlLE9BQWpCLEdBQTJCLENBQUMsZUFBRCxDQUEzQjtBQUNBQyxVQUFRQyxNQUFSLENBQWUsaUJBQWY7QUFDR0MsWUFESCxDQUNjLGtCQURkLEVBQ2tDbEIsZ0JBRGxDO0FBRUQsQ0EvQkQiLCJmaWxlIjoic2VhcmNoLmNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGNsYXNzIFNlYXJjaENvbnRyb2xsZXIge1xuXG4gICAgY29uc3RydWN0b3IoU2VhcmNoU2VydmljZSkge1xuICAgICAgdGhpcy5TZWFyY2hTZXJ2aWNlID0gU2VhcmNoU2VydmljZTtcbiAgICB9XG5cbiAgICBvblNlYXJjaChmaWx0ZXJPYmopIHtcbiAgICAgIHRoaXMuc2VhcmNoVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucHJpY2VGaWx0ZXIgPSBudWxsO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlNlYXJjaFNlcnZpY2UuZ2V0UmVzdWx0KGZpbHRlck9iaik7XG4gICAgICBwcm9taXNlLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuc2VhcmNoVHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJpY2VGaWx0ZXIgPSB0aGlzLlNlYXJjaFNlcnZpY2UuZ2V0UHJpY2VSYW5nZXModGhpcy5zZWFyY2hSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25QcmljZUZpbHRlcihmaWx0ZXJWYWwpe1xuICAgICAgbGV0IG5ld1Jlc3VsdCA9IHRoaXMuU2VhcmNoU2VydmljZS5maWx0ZXJSZXN1bHRzQmFzZWRPblByaWNlKHRoaXMub3JpZ2luYWxSZXN1bHQsIGZpbHRlclZhbCk7XG4gICAgICB0aGlzLnNlYXJjaFJlc3VsdCA9IG5ld1Jlc3VsdDtcbiAgICB9XG5cbiAgfVxuXG4gIFNlYXJjaENvbnRyb2xsZXIuJGluamVjdCA9IFsnU2VhcmNoU2VydmljZSddO1xuICBhbmd1bGFyLm1vZHVsZSgnbXlmbGlnaHQuc2VhcmNoJylcbiAgICAuY29udHJvbGxlcignU2VhcmNoQ29udHJvbGxlcicsIFNlYXJjaENvbnRyb2xsZXIpO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n","/* eslint-env browser */\n(function() {\n  'use strict';\n\n  angular.module('myflight.search', []);\n})();\n","/* eslint-env browser */\n/* global angular */\n(function() {\n  'use strict';\n  angular.module('myflight', ['myflight.search']);\n})();\n","/* eslint-env browser */\n/* global angular */\n(function() {\n  'use strict';\n  angular.module('myflight')\n  \t.constant('AppConstant',{\n  \t\tAPI: {\n  \t\t\tGET_FLIGHTS: 'https://api.myjson.com/bins/3aezg'\n  \t\t}\n  \t})\n})();\n","/* eslint-env browser */\n(function() {\n  'use strict';\n\n  class SearchService {\n\n    constructor($http, $q, AppConstant) {\n      this.$http = $http;\n      this.$q = $q;\n      this.AppConstant = AppConstant;\n    }\n    getPriceRanges(results){\n      var prices = results.map(x=>x.total);\n      return {\n        min: Math.min(...prices),\n        max: Math.max(...prices)\n      };\n    }\n    filterResultsBasedOnPrice(results, price){\n      price = parseInt(price,10);\n      return results.filter(item=> item.total<=price);\n    }\n    getCombinedFilterResults(results, filter){\n        let onewayFilters = this.filterResults(results, filter.oneway);\n        let returnFilters = this.filterResults(results, filter.return);\n        let result = onewayFilters.reduce((acc, curr) => {\n          if(returnFilters.length===0){\n            acc.push({\n              oneway: curr,\n              return: false,\n              total: curr.price\n            });\n          }\n          returnFilters.forEach(item =>  {\n            let obj = {\n              oneway: curr,\n              return: item,\n              total: curr.price + item.price\n            };\n            acc.push(obj)\n          });\n          return acc;\n        },[]);\n        return result;\n    }\n    filterResults(results, filter) {\n      return results.filter(item => {\n        filter.passengerCnt = filter.passengerCnt || 1;\n        return item.availableSeats > filter.passengerCnt &&\n                item.origin === filter.origin &&\n                item.destination === filter.destination &&\n                new Date(item.departure.split('T')[0]).toDateString() ===\n                          filter.depDate.toDateString();\n      });\n    }\n\n    getResult(filter) {\n      let defer = this.$q.defer();\n      let promise = this.$http.get(this.AppConstant.API.GET_FLIGHTS);\n      promise.then(response => {\n        defer.resolve(this.getCombinedFilterResults(response.data, filter));\n      });\n      return defer.promise;\n    }\n\n  }\n\n  SearchService.$inject = ['$http', '$q', 'AppConstant'];\n  angular.module('myflight.search')\n    .service('SearchService', SearchService);\n})();\n","/* eslint-env browser */\n(function() {\n  'use strict';\n\n  class FilterFormController {\n\n    constructor() {\n      this.filter = {\n        oneway: {},\n        return: {}\n      };\n      this.passengerList = [1, 2, 3, 4, 5];\n      this.uiState = {\n        onewayVisible: true\n      };\n    }\n    setUIState(modifier){\n      this.uiState = Object.assign(this.uiState, modifier);\n    }\n    setActiveView(view){\n      this.setUIState({\n        onewayVisible: view==='one'? true: false \n      });\n    }\n    onFilterFormSubmit(e, form) {\n      e.preventDefault();\n      if (form.$valid) {\n        this.onSearch({\n          filterObj: this.filter\n        });\n      }\n    }\n\n  }\n\n  angular.module('myflight.search')\n    .component('filterForm', {\n      templateUrl: 'scripts/app/search/filter-form.tpl.html',\n      controller: FilterFormController,\n      replace: true,\n      bindings: {\n        onSearch: '&',\n        priceFilter: '<',\n        onPriceFilter: '&' \n      }\n    });\n})();\n","/* eslint-env browser */\n(function() {\n  'use strict';\n\n  class SearchResultsController {\n\n    constructor() {\n      this.$onInit = function() {\n      };\n    }\n\n  }\n\n  angular.module('myflight.search')\n    .component('searchResults', {\n      templateUrl: 'scripts/app/search/search-results.tpl.html',\n      controller: SearchResultsController,\n      replace: true,\n      bindings: {\n        resuts: '='\n      }\n    });\n})();\n","/* eslint-env browser */\n(function() {\n  'use strict';\n\n  class SearchController {\n\n    constructor(SearchService) {\n      this.SearchService = SearchService;\n    }\n\n    onSearch(filterObj) {\n      this.searchTriggered = true;\n      this.priceFilter = null;\n      let promise = this.SearchService.getResult(filterObj);\n      promise.then(result => {\n        this.searchResult = result;\n        this.originalResult = result;\n        this.searchTriggered = false;\n        this.priceFilter = this.SearchService.getPriceRanges(this.searchResult);\n      });\n    }\n\n    onPriceFilter(filterVal){\n      let newResult = this.SearchService.filterResultsBasedOnPrice(this.originalResult, filterVal);\n      this.searchResult = newResult;\n    }\n\n  }\n\n  SearchController.$inject = ['SearchService'];\n  angular.module('myflight.search')\n    .controller('SearchController', SearchController);\n})();\n"],"sourceRoot":"/source/"}